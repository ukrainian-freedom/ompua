---
заголовок: Система змінних на гравця
description: Система змінних гравця (скорочено PVar) - це новий спосіб створення змінних гравця ефективним динамічно створюваним методом у глобальному масштабі, що означає, що вони можуть бути використані в ігровому режимі сервера та скриптах фільтрів одночасно.
---

Система змінних гравця (скорочено PVar) - це новий спосіб створення змінних гравця ефективним динамічно створюваним методом у глобальному масштабі, тобто їх можна використовувати в ігровому режимі сервера та скриптах фільтрів водночас.

Вони схожі на [SVars](servervariablesystem), але створюються для кожного гравця окремо. Дивіться останні 2 повідомлення в цій темі, щоб дізнатися про різницю між властивостями пішаків і PVars.

## Переваги

Нова система, представлена в оновленому сервері SA-MP 0.3a R5, має кілька основних переваг над створенням масиву розміром MAX_PLAYERS.

- PVars можна використовувати спільно/доступно у скриптах режимів гри та скриптах фільтрів, що полегшує модулювання вашого коду.

- PVars автоматично видаляються, коли гравець залишає сервер (після OnPlayerDisconnect), що означає, що вам не потрібно вручну скидати змінні для наступного гравця, який приєднується.

- Немає реальної потреби у складних структурах зчислень/інформації про гравців.

- Заощаджує пам'ять, не виділяючи елементи масиву пішаків для ідентифікаторів гравців, які, ймовірно, ніколи не будуть використані.

- Ви можете легко перерахувати і надрукувати/зберегти список PVar. Це полегшує як налагодження, так і зберігання інформації про гравців.

- Навіть якщо PVar не було створено, він все одно поверне значення за замовчуванням 0.

- PVar може зберігати дуже довгі рядки, використовуючи динамічно виділену пам'ять.

- Ви можете встановлювати, отримувати та створювати PVars у грі.

## Недоліки

- PVars у кілька разів повільніші за звичайні змінні. Як правило, вигідніше обміняти пам'ять на швидкість, ніж навпаки.

## Функції

Функції для встановлення та отримання змінних плеєра такі:

- [SetPVarInt](../scripting/functions/SetPVarInt) Встановити ціле число для змінної гравця.
- [GetPVarInt](../scripting/functions/GetPVarInt) Отримати раніше встановлене ціле число зі змінної гравця.
- [SetPVarString](../scripting/functions/SetPVarString) Встановити рядок для змінної гравця.
- [GetPVarString](../scripting/functions/GetPVarString) Отримати раніше встановлений рядок зі змінної гравця.
- [SetPVarFloat](../scripting/functions/SetPVarFloat) Задати змінній гравця значення з плаваючою комою.
- [GetPVarFloat](../scripting/functions/GetPVarFloat) Отримати попередньо встановлене число з плаваючою комою зі змінної гравця.
- [DeletePVar](../scripting/functions/DeletePVar) Видалити змінну гравця.

```c
#define PLAYER_VARTYPE_NONE (0)
#define PLAYER_VARTYPE_INT (1)
#define PLAYER_VARTYPE_STRING (2)
#define PLAYER_VARTYPE_FLOAT (3)
```


