---
заголовок: Pickup Guide
---

Короткий посібник, який описує, як використовувати пікапи.

## Визначте пікап

Перше, що потрібно зробити при створенні пікапа, це створити місце для зберігання його ідентифікатора. Це буде зроблено в глобальній змінній, щоб її можна було встановити при створенні пікапа і зчитувати, коли ви берете трубку, викликаючи зворотний дзвінок з ідентифікатором пікапа, якого ви взяли. Для цього прикладу ми використаємо ім'я «gMyPickup».

```c
new gMyPickup;
```

## Створення пікапа

Існує два способи створення пікапів. [CreatePickup](../scripting/functions/CreatePickup) та [AddStaticPickup](../scripting/functions/AddStaticPickup). AddStaticPickup не повертає ідентифікатор при створенні, не може бути знищений і може бути використаний лише під час OnGameModeInit, тому для цього прикладу ми будемо використовувати [CreatePickup](../scripting/functions/CreatePickup).

**Синтаксис функції [CreatePickup](../scripting/functions/CreatePickup) наступний:** *Синтаксис функції [CreatePickup](../scripting/functions/CreatePickup)

**Параметри:**

| модель | Модель, яку ви хочете використовувати для пікапа.                                                               |
| ------------ | --------------------------------------------------------------------------------------------------------- |
| тип | Тип породження пікапа, див. далі на цій сторінці.                                                        |
| Float:X - координата X, яку показуватиме пікап.                                                                  |
| Float:Y | Координата Y для показу пікапа.                                                                  |
| Float:Z | Координата по Z для показу пікапа.                                                                  |
| Virtualworld - ідентифікатор віртуального світу пікапа. Значення -1 призведе до відображення пікапа в усіх віртуальних світах. |

У цьому прикладі ми створимо інкасаторську машину на Grove Street.

Тепер нам потрібно визначитися з моделлю, яка з'явиться у світі, є багато моделей на вибір, деякі з них перераховані на зовнішньому сайті [тут](https://dev.prineside.com/en/gtasa_samp_model_id), тут ми обираємо модель номер 1274, яка має знак долара.

Нарешті, нам потрібен [Type](../scripting/resources/pickuptypes) для пікапа, на тій же сторінці з моделями пікапів є список типів пікапів з описом того, що кожен з них робить. Ми хочемо, щоб пікап зникав, коли ви його піднімаєте, щоб ви не могли підняти його повторно, але з'являвся через кілька хвилин, щоб ви могли підняти його знову, тип 2 робить саме це.

Найчастіше пікапи створюються під час запуску скрипту, в [OnGameModeInit](../scripting/callbacks/OnGameModeInit) або [OnFilterScriptInit](../scripting/callbacks/OnFilterScriptInit), залежно від типу скрипту, однак вони можуть бути в будь-якій функції (наприклад, ви можете створити скрипт скидання зброї, який буде використовувати OnPlayerDeath для створення пікапів зброї).

Отже, ось код для створення нашого пікапа і збереження ідентифікатора в 'gMyPickup':

```c
gMyPickup = CreatePickup(1274, 2, 2491.7900, -1668.1653, 13.3438, -1);
```

### Вибір дій пікапа

Коли ви підхоплюєте пікап, викликається [OnPlayerPickUpPickup](../scripting/callbacks/OnPlayerPickUpPickup), передаючи playerid (гравець, який підхопив пікап) та pickupid (ідентифікатор пікапа, який було підхоплено).

Деякі типи пікапів призначені для автоматичної роботи, тому не потрібно нічого робити в OnPlayerPickUpPickup. Перегляньте сторінку [Pickup Types](../scripting/resources/pickuptypes) для отримання додаткової інформації.

Коли гравець піднімає наш новий пікап, ми хочемо дати йому $100, для цього спочатку потрібно перевірити, що він підняв саме наш доларовий пікап, а не якийсь інший. Коли ми це зробимо, ми можемо дати йому $100:

```c
public OnPlayerPickUpPickup(playerid, pickupid)
{
    // Перевіряємо, чи ідентифікатор пікапа, який вони підібрали, дорівнює gMyPickup
    if(pickupid == gMyPickup)
    {
        // Повідомляємо гравця
        SendClientMessage(playerid, 0xFFFFFFFFFF, «Ви отримали $100!»);
        // Віддати гравцю гроші
        GivePlayerMoney(playerid, 100);
    }
    // якщо вам потрібно додати більше пікапів, просто зробіть це:
    else if (pickupid == (деяка інша пікапа))
    {
        // Ще один пікап, зробіть щось інше
    }
    return 1;
}
```

Вітаємо, тепер ви знаєте, як створювати та обробляти пікапи!

## Подальше читання

Ви можете використовувати плагін [Streamer](https://github.com/samp-incognito/samp-streamer-plugin) для створення необмеженої кількості пікапів за допомогою [CreateDynamicPickup](<https://github.com/samp-incognito/samp-streamer-plugin/wiki/Natives-(Pickups)>)

Ви також можете створити пікап для кожного гравця за допомогою [CreatePlayerPickup](../scripting/functions/CreatePlayerPickup).


