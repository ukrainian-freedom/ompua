# Оператори та вирази

---

### - Умовні позначення

Робота деяких операторів залежить від конкретного типу операндів.
Тому операнди позначаються таким чином:

| Оператори | Використання |
| --------- | ----------------------------------------------------------------------- |
| e | будь-який вираз; | | v | будь-який вираз
| v | будь-який вираз, якому можна присвоїти значення (вирази типу "lvalue")
| a - масив; f - функція
| f - функція; s - символ, якому можна присвоїти значення
| s - символ, який є змінною, константою або функцією.                |

### - Вирази

Вираз складається з одного або декількох операндів з оператором. Операнд
може бути змінною, константою або іншим виразом. Вираз, після якого стоїть крапка з комою
крапка з комою є оператором.

Лістинг: приклади виразів

```c

v++
f(a1, a2)
v = (a1 * a2) / a3

```

### Арифметика

| Підпис, опис.
| ------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| e1 + e2 + e1 + e2
| призводить до додавання e1 та e2.
- e1 - e2
| призводить до віднімання e1 і e2.
| | -e |
| призводить до арифметичного заперечення a (доповнення до двійки).                                                                                                                                                 |
| e1 \* e2 \* e1
| Дає множення e1 та e2.                                                                                                                                                                 |
| e1 / e2
| Виконує ділення e1 на e2. Результат округляється до найближчого інтегрального значення, яке менше або дорівнює частці. Як від'ємні, так і додатні значення округлюються вниз, тобто до -∞. |
| % | e1 % e2 |
| Виводить модуль (остачу від ділення) e1 на e2. Модуль завжди є додатною величиною.                                                                                                     |
| ++ | v++ |
| Збільшує v на 1; результат, якщо вираз є значенням v до його збільшення.                                                                                                                 |
| | ++v |
| збільшує v на 1; результат, якщо вираз є значенням v після його збільшення.                                                                                                                  |
| -- | v-- |
| зменшує v на 1; результат, якщо вираз є значенням v до його зменшення.                                                                                                                 |
| | --v |
| зменшує v на 1; результат, якщо вираз є значенням v після декрементації.                                                                                                                  |
| Примітки: | Унарний + не визначений у пішаку.
| Оператори ++ та -- модифікують операнд. Операнд має бути значенням типу l.                                                                                                                                  |

### - Маніпуляції з бітами

| Підпис, опис.
| ---- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- | --- |
| ~ | ~e |
| призводить до доповнення одиниці до e.
| e1 >> e2 >> e1 >> e2
| | призводить до арифметичного зсуву праворуч від e1 на e2 біти. Операція зсуву є знаковою: крайній лівий біт e1 копіюється у вільні біти результату.          |
| >>> | e1 >>> e2 |
| | призводить до логічного зсуву праворуч від e1 на e2 бітів. Операція зсуву є беззнаковою: вільні біти результату заповнюються нулями.                     |
| << | e1 << e2 |
| | призводить до зсуву значення e1 вліво на e2 біти; крайні праві біти встановлюються у нуль. Не існує різниці між арифметичним та логічним зсувом вліво | & | & | & | & | & | & | & | & | & | & | & | & | & | & | & | &
| & | eq & e2 |
| | призводить до порозрядного логічного "і" для e1 та e2.                                                                                                                    |
e1 | e2 | e1 | e2 | e1 | e2 | e1 | e2
| дає порозрядне логічне "або" для e1 та e2.                                                                                                                     |
| e1 ^ e2 ^ e1 ^ e2
| дає побітове "виключне або" для e1 та e2.                                                                                                                   |

### - Призначення

Результатом виразу присвоювання є значення лівого операнда після присвоювання. Лівий операнд може не мати мітки.

| Підпис, опис.
| ---- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- | --- |
| = | v = e
| Присвоює змінній v значення e.
| Якщо "v" є масивом, він повинен мати явний розмір і "e" повинен бути масивом того ж розміру; "e" може бути рядком або буквеним масивом.                                                              |
| Зауважте, що наступні оператори поєднують присвоювання з арифметичною або побітовою операцією; результатом виразу є значення лівого операнда після арифметичної або побітової операції. |
| += | v += e |
| збільшує v на a.                                                                                                                                                                              |
| -= | v -= e | | -= v -= e | | -= v -= e | | -= v -= e
| зменшує v на e.
| v \*= v \*= e
| множить v на e.
| v /= v /= e
| ділить v на e.
| %= v %= e
| привласнює v остачу від ділення v на e.
| v >>= v >>= e
| зсуває v арифметично вправо на e бітів.                                                                                                                                                   |
| >>>= | v >>>= e | | | зсуває v логічно вправо на e біт.
| зсуває v логічно вправо на e бітів.                                                                                                                                                        |
| <<= | v <<= e
| зсуває v вліво на e бітів.                                                                                                                                                                   |
| &= v &= e
| застосовує побітове "і" до v та e і присвоює результат до v.
| v = v = e
| застосовує побітове "або" до v та e і присвоює результат v.
| ^= | v ^= e
| застосовує побітове "виключне або" до v та e і присвоює результат до v.
| і присвоює результат v.

### - реляційний

Логічне "неправда" представляється цілим значенням 0; логічне "істина" представляється будь-яким значенням, відмінним від 0. Значеннями результатів реляційних виразів є або 0, або 1, а їхній тег має значення "bool:".

| Підпис, опис.
| ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| e1 == e2 == e1 == e2
| повертає логічне значення "істина", якщо e1 дорівнює e2.                                                                                                                                |
| e1 == e2 == e1 == e2
| дає логічне значення "істина", якщо e1 відрізняється від e2.                                                                                                                               |
| Примітка: наступні оператори можуть бути "зчеплені", як у виразі "e1 <= e2 <= e3", з семантикою, що результат дорівнює "1", якщо всі окремі порівняння справджуються, і "0" у протилежному випадку. |
| e1 <= e2 <= e3
| Результат - логічна "істина", якщо e1 менше за e2.                                                                                                                            |
| e1 <= e2 <= e1 <= e2
| дає логічне значення "істина", якщо e1 менше або дорівнює e2.                                                                                                                |
| e1 > e2 > e1 > e2
| дає логічне значення "істина", якщо e1 більше за e2.                                                                                                                            |
| e1 >= e2 >= e1 >= e2
| дає логічне значення "істина", якщо e1 більше або дорівнює e2.                                                                                                                |

### - булевий

Логічне "неправда" представляється цілим значенням 0; логічне "істина" представляється будь-яким значенням, відмінним від 0. Значеннями результатів булевих виразів є або 0, або 1, а їхній тег має значення "bool".

| Підпис. Опис.
| ---- | ---------------------------------------------------------------------------------------------------------------------------------------------- | --- | --- | --- | --- |
| !    | !e |
| Якщо e було логічною "істиною", то e буде логічною "брехнею".                                                                                        |
| e1 - e2 - e3 - e4 - e5 - e6 - e7 - e8 - e9 - e9
| | | призводить до логічної "істини", якщо e1 або e2 (або обидва) є логічно "істинними". Вираз e2 обчислюється тільки якщо e1 є логічно "хибним". |
| && | e1 && e2 |
| | призводить до логічної "істини", якщо і e1, і e2 є логічно "істинними".                                                                            |
| Вираз e2 обчислюється тільки якщо e1 є логічно "істинним".                                                                                 |

### - Різне

| Підпис, опис.
| ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| a[e].
| Індекс масиву: результати в комірку e з масиву a.
| {}      | a{e}                                                                                                                                                                                                                                                                                                                                                                        |
| індекс масиву: результати до символу e з "упакованого" масиву a.
| f(e1,e2,...eN)
| призводить до значення, що повертається функцією f. Функція викликається з аргументами e1, e2, ... eN. Порядок обчислення аргументів не визначений (реалізація може обчислювати аргументи функції у зворотному порядку).                                                                                                                         |
| ? :     | e1 ? e2 : e3 |
| | призводить до e2 або e3, залежно від значення e1. Умовний вираз є складеним виразом з оператором, що складається з двох частин, "?" і ":". Вираз e2 обчислюється, якщо e1 логічно "істинний", e3 обчислюється, якщо e1 логічно "хибний".                                                                                                                      |
| :       | tagname: e | .
| перевизначення тегу; значення виразу e не змінюється, але змінюється його тег. Докладнішу інформацію наведено на сторінці 68.                                                                                                                                                                                                                                                         |
| , | e1, e2
| | призводить до e2, e1 обчислюється перед e2. Якщо використовується у списках аргументів функції або умовному виразі, вираз з комою слід брати в круглі дужки.                                                                                                                                                                                                           |
| визначено | визначено s | визначено s
| | повертає значення 1, якщо символ визначено. Символ може бути константою (сторінка 98), глобальною або локальною змінною.                                                                                                                                                                                                                                                     |
| Тегом цього виразу є bool:.                                                                                                                                                                                                                                                                                                                                        |
| sizeof | sizeof s
| повертає розмір в "елементах" вказаної змінної. Для простих змінних і масивів з одним виміром елементом є комірка. Для багатовимірних масивів результатом є кількість елементів масиву у цьому вимірі - додайте [] до назви масиву, щоб вказати менший/більш дрібний вимір. Якщо розмір змінної невідомий, результатом буде нуль. |
| При використанні у значенні за замовчуванням для аргументу функції вираз обчислюється у точці виклику функції, а не у визначенні функції.                                                                                                                                                                                                                |
| state | стан | стан s
| де "s" - ім'я стану, яке необов'язково додається до імені автомата, цей оператор повертає значення 1, якщо автомат перебуває у вказаному стані, і 0 у протилежному випадку.                                                                                                                                                                                  |
| Тег цього виразу має вигляд bool:.                                                                                                                                                                                                                                                                                                                                        |
| tagof | tagof s | tagof s
| повертає унікальне число, яке представляє тег змінної, константи, результату функції або мітки тегу.                                                                                                                                                                                                                                                 |
| При використанні у значенні за замовчуванням для аргументу функції вираз обчислюється у точці виклику функції, а не у визначенні функції.                                                                                                                                                                                                                |
| char | e char
| повертає кількість комірок, необхідних для зберігання упакованого масиву з e символів.                                                                                                                                                                                                                                                                                         |

### - Пріоритет оператора

У таблиці нижче згруповано оператори з однаковим пріоритетом, починаючи з групи операторів
з найвищим пріоритетом у верхній частині таблиці.

Якщо порядок обчислення виразу явно не задано дужками,
він визначається правилами об'єднання. Наприклад: a*b/c є
еквівалентно (a*b)/c через асоціацію зліва направо, а a=b=c еквівалентно a=(b=c).

| Підпис, опис.
| ---------------------------------- | -------------------------------------------- | ------------- | ------------- | ------------- |
| () виклик функції зліва направо
| [] | індекс масиву (комірка)
| {}                                 | індекс масиву (символ)
| !                                  | логічно не справа наліво
| доповнення до одиниці
- доповнення до двох
++ інкремент
--- зменшення
| :                                  | перевизначення тегу
| char | перетворити кількість упакованих символів у комірки
| defined - статус визначення символу
| sizeof | розмір символу в "елементах"
| state | стан автомата/стану
| tagof | унікальний номер для тегу
| множення зліва направо
| ділення зліва направо
| відсоток по модулю
+ додавання зліва направо
- віднімання
| зсув вправо зліва направо
| Логічний зсув вправо.
| зсув вліво.
| порозрядний і зліва направо.
| побітовий виключний або зліва направо.
| побітно або зліва направо.
| менше, ніж зліва направо.
| менше або дорівнює
| більше або дорівнює
| більше або дорівнює
| рівність зліва направо
| нерівність зліва направо.
| логічна і зліва направо.
| логічна або зліва направо.
| ? :                                | Умовна нерівність справа наліво
= присвоєння справа наліво

| кома зліва направо

---

`Імена тегів: 68

Приклад: 77

`Див. також сторінку 114 щодо специфікаторів стану`.

---

[Повернутися до змісту](00-Contents.md)


