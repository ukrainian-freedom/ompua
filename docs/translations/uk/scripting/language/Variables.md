---
назва: "Основи: Змінні"
description: Посібник для початківців зі змінних у Pawn
---

## Змінні

Одним з найважливіших понять у програмуванні є поняття "змінні". У програмуванні змінна - це об'єкт, який можна змінювати, але в якому сенсі? У мові Pawn змінна має "значення" в будь-який момент часу, і це значення, як випливає з назви, є "змінним" або "змінним".

Причина, чому змінні так важливі, полягає в тому, що вони, по суті, є невеликими одиницями пам'яті комп'ютера, які можуть зберігати або "запам'ятовувати" різні значення під час виконання програми, і ця властивість виявляється дуже корисною в програмуванні. Наприклад, якщо ви хочете відстежувати результати 100 гравців у грі, ви можете легко це зробити, запрограмувавши комп'ютер зберігати (запам'ятовувати) та оновлювати ці значення. Пізніше, якщо ви захочете знайти середній бал цих гравців або створити таблицю лідерів, до цих значень змінних можна буде легко отримати доступ і використати їх для цієї мети.

### Оголошення змінних

Нижче наведено синтаксис оголошення змінної :

```c
// Створення (правильніше "оголошення") змінної з іменем 'myVariable

new myVariable;

// Для оголошення змінної використовується ключове слово new
// У вищенаведеному рядку оголошено змінну з іменем myVariable
// Крапка з комою використовується в кінці, щоб закрити оператор оголошення.
```

Синтаксис оголошення можна краще зрозуміти, розглянувши деякі приклади :

```c
новий вар;
нові набої;
новий рахунок;
нові машини;
новий topScore;
```

Кожна з описаних вище змінних має значення за замовчуванням, яке дорівнює нулю. Існують різні способи присвоєння значень змінним. Одним з них є безпосереднє присвоєння значення змінній при її оголошенні :

```c
нові літери = 25;
```

У наведеному вище прикладі оголошується змінна з іменем letters зі значенням 25. Ви помітите знак рівності, який є простим оператором присвоювання, що використовується для присвоювання значень змінним. Він обчислює вираз у правій частині і присвоює отримане значення змінній, на яку є посилання у лівій частині. Крім присвоювання значень безпосередньо при оголошенні, ви також можете робити це в подальших частинах коду :

```c
нові літери;

букв = 25;
```

### Сфери застосування

Зміна значення змінної можлива лише в тому випадку, якщо частина коду, де ви посилаєтесь на змінну, знаходиться в межах області видимості цієї змінної. Область видимості змінної залежить від блоку коду або позиції, де цю змінну було оголошено. Наприклад, змінна, оголошена поза будь-яким блоком коду, зазвичай на початку скрипта, має глобальну область видимості і може бути доступною з будь-якого місця в скрипті:

```c
#include <open.mp>

new g_var = 5;

public OnFilterScriptInit()
{
    g_var = 10;

    printf("Значення дорівнює %i", g_var);

    return 1;
}

public OnPlayerConnect(playerid)
{
    g_var = 100;

    printf("Значення дорівнює %i", g_var);

    return 1;
}

// Вивести :
// Значення 10
// Значення 100

// Зауваження: Другий рядок виводиться тільки тоді, коли підключається гравець.
```

Окрім "глобальних" (scoped) змінних, існують "локальні" або "приватні" (private) змінні, до яких можна отримати доступ лише зсередини блоку коду, в якому вони були оголошені.

```c
#include <open.mp>

public OnFilterScriptInit()
{
    new localVar;

    localVar = 5;

    return 1;
}

public OnPlayerConnect(playerid)
{
    localVar = 10; // Цей рядок видасть помилку при компіляції

    return 1;
}
```

Якщо ви спробуєте скомпілювати наведений вище код, компілятор видасть помилку, яка є цілком обґрунтованою, оскільки на локальну змінну посилаються в зовсім іншому блоці коду. Примітка: Якщо це вкладений блок коду, то доступ до змінної можна отримати звідти.

Важливо зазначити, що ви не можете оголошувати змінні з однаковими іменами, якщо їхні області видимості перетинаються. Наприклад, якщо у вас вже є змінна з іменем score у глобальній області видимості, ви не можете створити іншу змінну з іменем score як у глобальній, так і в локальній області видимості, і це справедливо у зворотному випадку (якщо у вас вже є локальна змінна, уникайте оголошення глобальної змінної з тим самим іменем).

```c
#include <open.mp>

new g_score;

public OnFilterScriptInit()
{
    new g_score = 5; // У цьому рядку буде показано помилку.
    return 1;
}
```

### Правила іменування

Тепер, коли ви знаєте, як оголошувати змінні, вам потрібно знати правила іменування для оголошення змінних, які наведено нижче:

- Всі імена змінних повинні починатися з літери або символу підкреслення (`_`)
- Після першої початкової літери імена змінних можуть містити літери та цифри, але не пробіли та спеціальні символи.
- Імена змінних є чутливими до регістру, тобто великі літери відрізняються від малих.
- Використання зарезервованого слова (ключового слова) як імені змінної призведе до помилки.

#### Приклади :

```c
new new; // Неправильно: використання зарезервованого слова
new _new; // Коректно

new 10letters; // Неправильно: Ім'я починається з цифри
new letters10; // Коректно
new letters_10; // Коректно

new my name; // Неправильно: пробіл в імені
new my_name; // Коректно

new !nternet; // Неправильно
new Internet; // Правильно
```

### Зберігання різних типів даних

Після цього давайте розглянемо кілька прикладів того, які типи даних можна зберігати у змінній і як саме:

```c
new letter = 'M';


нове значення = 100;


new decimalValue = 1.0;
// Працює, але видасть попередження компілятора
// попередження 213: невідповідність тегів


new engineOn = true;
// Працює і не видає попередження компілятора, але рекомендується використовувати тег


new sentence = "Це речення";
// Виведе помилку.
// помилка 006: потрібно присвоювати масив
```

Змінна може зберігати символ, ціле значення, логічне значення (true або false) та значення з плаваючою комою (десяткове значення). Коментарі у вищенаведеному коді показують, що зберігання рядка у змінній призводить до помилки (оскільки рядки можна зберігати лише у _масивах_). Крім того, присвоєння змінній значення з плаваючою комою призведе до попередження компілятора, якого можна уникнути, додавши "теги". Без належних тегів скрипт показуватиме попередження під час компіляції, але буде виконуваним. Теги повідомляють компілятору про тип даних, які передбачається зберігати у змінній, що, в свою чергу, інформує нас у вигляді помилок або попереджень, якщо ми робимо в коді помилку, що порушує роботу програми. Приклад тегів :

```c
new decimalValue = 1.0; // Неправильно
new bool:decimalValue = 1.0 // Неправильно
new Float:decimalValue = 1.0; // Коректно

new switchOn = 1.0; // Неправильно
new switchOn = true; // Неправильно, не виводить попередження
new bool:switchOn = true; // Коректно
```

Використання правильних тегів є важливим для уникнення помилок під час виконання програми.

Pawn як безтипова мова дозволяє зберігати різні типи даних в одній змінній, що може бути корисно в одних випадках і проблематично в інших, але таке використання змінних не рекомендується.

```c
#include <open.mp>

public OnFilterScriptInit()
{

    новий вар;

    var = 'a';
    printf("%c", var);

    var = 1;
    printf("%d", var);

    var = 1.0;
    printf("%f", var);

    var = true;
    printf("%d", var); // виводить значення 0 або 1

    return 1;
}

// Вивести :
a
1
1.000000
1
```


